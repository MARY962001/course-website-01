# Load required libraries
library(tidyverse)
library(lubridate)

set.seed(123)  # Ensure reproducibility

# Define number of respondents
n <- 500  

# Create a Codebook
codebook <- tibble(
  variable_name = c("user_id", "timestamp", "gender", "profession", "used_vr_ar", "impact_tech", 
                    "effectiveness", "benefit_vr_ar", "challenge_cost", "challenge_awareness", 
                    "challenge_equipment", "challenge_realism", "future_vr_ar", "concerns_accuracy", 
                    "concerns_cost", "concerns_technical", "concerns_privacy"),
  question = c(
    "Unique User ID",
    "Timestamp of survey response",
    "What is your gender?",
    "What is your profession?",
    "Have you ever used Virtual Reality (VR) or Augmented Reality (AR) in real estate?",
    "Which immersive technology has the most impact on customer engagement in real estate?",
    "How effective is VR/AR in helping customers visualize properties?",
    "What is the biggest benefit of using VR/AR in real estate?",
    "Is high cost a challenge preventing VR/AR adoption?",
    "Is lack of awareness a challenge preventing VR/AR adoption?",
    "Is the need for specialized equipment a challenge preventing VR/AR adoption?",
    "Are concerns about accuracy and realism a challenge preventing VR/AR adoption?",
    "How do you think VR/AR will evolve in the real estate industry in the next 5 years?",
    "Are you concerned about accuracy of virtual property representation?",
    "Are you concerned about the cost of VR/AR services?",
    "Are you concerned about technical difficulties in using the technology?",
    "Are you concerned about privacy issues when using VR/AR in real estate?"
  )
)

# Generate random survey responses
survey_data <- tibble(
  user_id = paste0("id_", 1:n),  # Unique user IDs
  gender = sample(c("Male", "Female", "Non-binary", "Prefer not to say"), n, replace = TRUE, prob = c(0.45, 0.45, 0.05, 0.05)),
  profession = sample(c("Real Estate Agent", "Property Developer", "Buyer/Renter", "Investor", "Student", "Other"), n, replace = TRUE, prob = c(0.2, 0.15, 0.3, 0.15, 0.15, 0.05)),
  used_vr_ar = sample(c("Yes, frequently", "Yes, but rarely", "No, but I am interested", "No, I have no interest"), n, replace = TRUE, prob = c(0.15, 0.25, 0.4, 0.2)),
  impact_tech = sample(c("VR – Full 3D property tours", "AR – Interactive overlays on real-world properties", "Both equally", "Neither"), n, replace = TRUE, prob = c(0.3, 0.25, 0.35, 0.1)),
  effectiveness = sample(c("Extremely effective", "Somewhat effective", "Neutral", "Not very effective", "Not effective at all"), n, replace = TRUE, prob = c(0.35, 0.4, 0.15, 0.07, 0.03)),
  benefit_vr_ar = sample(c("Saves time for buyers and sellers", "More immersive than photos/videos", "Increases confidence in purchasing decisions", "Expands market reach (remote buyers)"), n, replace = TRUE, prob = c(0.3, 0.3, 0.25, 0.15)),
  challenge_cost = sample(0:1, n, replace = TRUE, prob = c(0.7, 0.3)),  # 30% see cost as a challenge
  challenge_awareness = sample(0:1, n, replace = TRUE, prob = c(0.6, 0.4)),  # 40% see awareness as a challenge
  challenge_equipment = sample(0:1, n, replace = TRUE, prob = c(0.5, 0.5)),  # 50% see equipment as a challenge
  challenge_realism = sample(0:1, n, replace = TRUE, prob = c(0.4, 0.6)),  # 60% see realism as a challenge
  future_vr_ar = sample(c("It will become an essential tool for property buying/selling", 
                          "It will grow but remain a niche tool", 
                          "It will not have a significant impact"), n, replace = TRUE, prob = c(0.5, 0.4, 0.1)),
  concerns_accuracy = sample(0:1, n, replace = TRUE, prob = c(0.6, 0.4)),  # 40% are concerned about accuracy
  concerns_cost = sample(0:1, n, replace = TRUE, prob = c(0.5, 0.5)),  # 50% are concerned about cost
  concerns_technical = sample(0:1, n, replace = TRUE, prob = c(0.55, 0.45)),  # 45% are concerned about technical issues
  concerns_privacy = sample(0:1, n, replace = TRUE, prob = c(0.65, 0.35))  # 35% are concerned about privacy
)

# Generate random timestamps for survey completion
start_datetime <- ymd_hms("2023-01-01 00:00:00")  # Start date
end_datetime <- ymd_hms("2023-12-31 23:59:59")  # End date
total_seconds <- as.numeric(difftime(end_datetime, start_datetime, units = "secs"))

survey_data <- survey_data %>%
  mutate(timestamp = start_datetime + seconds(runif(n, min = 0, max = total_seconds)))

# Show first few rows of the dataset
head(survey_data)

# Save the dataset as a CSV file
write.csv(survey_data, "vr_ar_survey_data.csv", row.names = FALSE)

# Save the codebook as a CSV file
write.csv(codebook, "survey_codebook.csv", row.names = FALSE)

